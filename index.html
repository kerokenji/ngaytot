<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>T√≠nh √î Ng√†y Th√°ng</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

<h1>T√≠nh √î Ng√†y Th√°ng (<a href="#">vi·∫øt b·ªüi Name</a>)</h1>

<div class="card" role="form" aria-label="Form t√≠nh √¥ ng√†y th√°ng">
  <div class="label">Nh·∫≠p ng√†y v√† th√°ng</div>

  <div class="row" style="margin-bottom:6px">
    <div class="date-group">
      <div class="date-item">
        <small class="label">Ng√†y</small>
        <input id="day" type="number" placeholder="VD: 16" min="1" max="31" inputmode="numeric" />
      </div>

      <div class="slash">/</div>

      <div class="date-item">
        <small class="label">Th√°ng</small>
        <input id="month" type="number" placeholder="VD: 3" min="1" max="12" inputmode="numeric" />
      </div>
    </div>

    <div style="margin-left:auto" class="actions">
      <button id="calcBtn" onclick="tinhO()">T√≠nh ng√†y t·ªët</button>
    </div>
  </div>

  <div id="loading">ƒêang t√≠nh ng√†y<span id="dots">.</span></div>
  <div id="result" role="status" aria-live="polite"></div>

  <div class="image-placeholder" id="imagePlaceholder">
    üìú Khu v·ª±c ƒë·ªÉ th√™m h√¨nh m√¥ t·∫£ v·ªã tr√≠ √¥ (ch√®n ·∫£nh v√†o ƒë√¢y sau)
  </div>
</div>

<script src="script.js"></script>
</body>
</html>  button{
    padding:9px 16px;
    background:var(--accent);
    color:#fff;
    border:0;
    border-radius:8px;
    cursor:pointer;
    font-weight:700;
    font-size:15px;
  }
  button:hover{filter:brightness(.96)}

  #loading{
    display:none;
    margin-top:16px;
    font-style:italic;
    color:var(--muted);
    text-align:center;
  }

  #result{
    margin-top:16px;
    font-size:18px;
    font-weight:700;
    color:var(--text);
    text-align:center;
    opacity:0;
    transition:opacity .45s ease;
  }

  .image-placeholder{
    display:none; /* ·∫®n m·∫∑c ƒë·ªãnh */
    margin-top:18px;
    padding:14px;
    border:1px dashed #bfa98a;
    border-radius:10px;
    background:#fcf8f3;
    color:var(--muted);
    font-style:italic;
    text-align:center;
    opacity:0;
    transition:opacity .5s ease;
  }

  @media (max-width:420px){
    .date-item{min-width:100px}
    .card{padding:14px}
  }
</style>
</head>
<body>

<h1>T√≠nh √î Ng√†y Th√°ng (<a href="#">vi·∫øt b·ªüi Name</a>)</h1>

<div class="card" role="form" aria-label="Form t√≠nh √¥ ng√†y th√°ng">
  <div class="label">Nh·∫≠p ng√†y v√† th√°ng</div>

  <div class="row" style="margin-bottom:6px">
    <div class="date-group">
      <div class="date-item">
        <small class="label">Ng√†y</small>
        <input id="day" type="number" placeholder="VD: 16" min="1" max="31" inputmode="numeric" />
      </div>

      <div class="slash">/</div>

      <div class="date-item">
        <small class="label">Th√°ng</small>
        <input id="month" type="number" placeholder="VD: 3" min="1" max="12" inputmode="numeric" />
      </div>
    </div>

    <div style="margin-left:auto" class="actions">
      <button id="calcBtn" onclick="tinhO()">T√≠nh ng√†y t·ªët</button>
    </div>
  </div>

  <div id="loading">ƒêang t√≠nh ng√†y<span id="dots">.</span></div>
  <div id="result" role="status" aria-live="polite"></div>

  <div class="image-placeholder" id="imagePlaceholder">
    üìú Khu v·ª±c ƒë·ªÉ th√™m h√¨nh m√¥ t·∫£ v·ªã tr√≠ √¥ (ch√®n ·∫£nh v√†o ƒë√¢y sau)
  </div>
</div>

<script>
let dotTimer=null;
function startDots(){
  const d=document.getElementById('dots');
  let n=1;
  d.textContent='.';
  dotTimer=setInterval(()=>{n=(n%3)+1;d.textContent='.'.repeat(n);},420);
}
function stopDots(){
  clearInterval(dotTimer);
  document.getElementById('dots').textContent='';
}

function isValidDateInputs(day,month){
  if(!Number.isFinite(day)||!Number.isFinite(month))return false;
  if(month<1||month>12)return false;
  const year=new Date().getFullYear();
  const daysInMonth=new Date(year,month,0).getDate();
  return day>=1&&day<=daysInMonth;
}

function tinhO(){
  const dayEl=document.getElementById('day');
  const monthEl=document.getElementById('month');
  const loading=document.getElementById('loading');
  const result=document.getElementById('result');
  const placeholder=document.getElementById('imagePlaceholder');

  const day=parseInt(dayEl.value,10);
  const month=parseInt(monthEl.value,10);

  result.style.opacity=0;
  result.textContent='';
  placeholder.style.display='none';
  placeholder.style.opacity=0;

  if(!isValidDateInputs(day,month)){
    result.style.opacity=1;
    result.style.color='#8b0000';
    result.textContent='Ng√†y th√°ng kh√¥ng h·ª£p l·ªá!';
    return;
  }

  loading.style.display='block';
  startDots();

  setTimeout(()=>{
    stopDots();
    loading.style.display='none';

    const weights=[1,2,1,2,1,2,1,2];
    let total=0,idx=0;
    while(true){
      total+=weights[idx];
      if(total>=month)break;
      idx=(idx+1)%8;
    }
    const finalIndex=(idx+(day-1))%8;
    const cell=finalIndex+1;

    const names=["Sinh","Ch·∫•n","T·ªën","Ly","Kh√¥n","ƒêo√†i","C√†n","H∆∞u"];
    const goodBad=["t·ªët","x·∫•u","x·∫•u","t·ªët","x·∫•u","x·∫•u","t·ªët","x·∫•u"];
    const state=goodBad[finalIndex];
    const name=names[finalIndex];

    const color=state==='t·ªët'?'#065f46':'#7b1a1a';
    result.style.color=color;
    result.innerHTML=`K·∫øt qu·∫£: <strong>${name}</strong> ‚Äî (<span style="color:${color}">${state}</span>)<br><small style="color:var(--muted)">V·ªã tr√≠ √¥: ${cell} (b·∫°n c√≥ th·ªÉ xem h√¨nh minh h·ªça b√™n d∆∞·ªõi)</small>`;
    result.style.opacity=1;

    // Hi·ªán khu v·ª±c h√¨nh minh h·ªça
    setTimeout(()=>{
      placeholder.style.display='block';
      requestAnimationFrame(()=>{placeholder.style.opacity=1;});
    },400);

  },900);
}
</script>
</body>
</html>
